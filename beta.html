<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <link href="beta.css" rel="stylesheet">

    <title>War of the Visions Farming Story Materials Calculator</title>
  </head>
  <body>
    <nav class="navbar navbar-dark bg-dark fixed-top d-flex flex-row align-items-center px-md-4 flex-nowrap">
      <h1 class="navbar-brand">WotV Farming Calculator</h1>

      <button type="button" class="btn btn-primary btn-dark-mode">
        <img src="img/ui/element_icon_dark.png" class="toggle-dark-mode" alt="Toggle Dark Mode" title="Toggle Dark Mode" data-toggle="tooltip" data-placement="auto">
        <img src="img/ui/element_icon_shine.png" class="toggle-light-mode" alt="Toggle Light Mode" title="Toggle Light Mode" data-toggle="tooltip" data-placement="auto">
      </button>

      <a class="bmc-button ml-md-auto" target="_blank" href="https://www.buymeacoffee.com/WotVCalculator">
        <img src="https://cdn.buymeacoffee.com/buttons/bmc-new-btn-logo.svg" class="bmac-cup" alt="Buy me a coffee">
        <img src="img/othericon_lapis_s.png" class="coffee-visiore-icon" alt="Buy me Visiore">
        <span>Buy me <strike>a coffee</strike> Visiore</span>
      </a>
    </nav>

    <!--<nav class="nav nav-main nav-pills nav-fill container mb-4">
      <a class="nav-item nav-link active nav-search" href="#">Search</a>
      <a class="nav-item nav-link nav-import" href="#">Import</a>
      <a class="nav-item nav-link nav-export" href="#">Export</a>
    </nav>-->

    <div class="jumbotron loading">
      <div class="lds-roller"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
      <h1 class="display-4">Loading data and crunching numbers.. please wait.</h1>
    </div>


    <main role="main" class="main container">
      <form>
        <div class="mode mode-autocomplete">

          <div class="row mb-3">
            <div class="autocomplete-wrapper col-md-12 col-sm-12 col-12">
              <div class="form-group">
                <label for="autocomplete">Enter the name of the material, character name,
                  job name, or equipment needed. Character names will load all elemental
                  and job related materials. Job names will load the statues, job memories,
                  and weapon jewels. Equipment names will load the recipe and required
                  crafting materials.</label>
                <input id="autocomplete" class="typeahead form-control" type="text" placeholder="Enter the name of the material, job, recipe, or character">
              </div>
            </div>
          </div>

          <div class="row materials-list mb-5"></div>

          <div class="row mb-5">
            <div class="col-md-6 col-sm-6 col-6">
              <button type="button" class="btn btn-danger btn-clear-all">
                Clear All
              </button>
            </div>
          </div>
        </div>

        <div class="mode mode-import">
          <div class="row">
            <div class="col-md-12">
              <label for="import" class="">Enter a comma-delimited list of
                materials. Ex:
                "Staff Charoite,Wind Alcryst (Blue),Mace Jadeite"</label>
            </div>

            <div class="col-md-12">
              <textarea name="import" id="import" class="mb-3" cols="50"></textarea>
            </div>

            <div class="col-md-6">
              <button type="button" class="btn btn-primary btn-import">
                Import
              </button>
            </div>

            <div class="col-md-6">
              <button type="button" class="btn btn-danger btn-mode-cancel">
                Cancel
              </button>
            </div>
          </div>
        </div>


        <div class="mode mode-export">
          <div class="row">
            <div class="col-md-12">
              <label for="export" class="">The data below has been copied to
                your clipboard. Paste this into other sites that
                support this method or save for import later.</label>
            </div>

            <div class="col-md-12">
              <textarea name="export" id="export" class="mb-3" cols="50"></textarea>
            </div>

            <div class="col-md-6">

            </div>

            <div class="col-md-6">
              <button type="button" class="btn btn-danger btn-mode-cancel">
                Cancel
              </button>
            </div>
          </div>
        </div>

      </form>

      <div class="feedback"></div>

      <div class="story-quest-list container">

        <table class="table table-sm">
          <thead class="thead-dark">
            <tr>
              <th scope="col">Story Name</th>
              <th scope="col">Materials (Chance for <strong>at least one</strong> per embark)</th>
            </tr>
          </thead>
          <tbody>

          </tbody>
        </table>

      </div>

    </main><!-- /.container -->

    <nav class="navbar fixed-bottom navbar-expand navbar-dark bg-dark">
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/WotVFarmCalculator/wotvfarmcalculator.github.io" target="_blank">Github</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/WotVFarmCalculator/wotvfarmcalculator.github.io/commits/master" target="_blank">Changelog</a>
          </li>
          <li class="nav-item flex-row d-flex">
            <span class="nav-link">Report an Error:</span>
            <a class="nav-link" href="https://github.com/WotVFarmCalculator/wotvfarmcalculator.github.io/issues/new" target="_blank">On
              Github</a>
            <a class="nav-link" href="https://www.reddit.com/message/compose/?to=BrandonIsABadass&subject=Error%20Report" target="_blank">On
              Reddit</a>
          </li>
          <li class="nav-item">
            <span class="nav-link latest-update">
              Latest update: Apr 22: NEW VERSION BETA!!.
            </span>
          </li>
        </ul>
      </div>
    </nav>


    <template class="template template-material-typeahead">
      <div>
        {{{materialLabel}}}
      </div>
    </template>

    <template class="template template-material-item">
      <div class="input-group col-lg-4 col-md-6 mb-2" data-material="{{material}}">
        <div class="input-group-prepend">
      <span class="input-group-text">
      <img src="img/ui/cmn_btn_close_01.png" alt="Delete Material" title="Delete Material" class="btn btn-close">
      </span>
        </div>
        <div class="form-control">{{{materialLabel}}}</div>
      </div>
    </template>

    <template class="template template-material-icon-wrapper">
      <div class="material-icon-wrapper">
        {{{layers}}}
      </div>
      <span>{{includedText}}</span>
    </template>

    <template class="template template-material-icon-layer">
      <img src="img/{{image}}" class="material-icon {{typeClass}}" alt="{{material}}" title="{{material}}">
    </template>

    <template class="template template-material-quantity-layer">
      <div class="material-icon material-icon-quantity" title="{{material}}">x{{quantity}}</div>
    </template>

    <template class="template template-story-row">
      <tr class="story-row">
        <td>
          <div class="container">
            <div class="row">
              <img src="img/ui/cmn_btn_acordion_off.png" data-quest="{{cssclass iname}}" class="accordion-toggle accordion-toggle-story-name mr-2" alt="Click to expand/collapse" title="Click to expand/collapse">
              <div class="col">
                <div class="row">
                  <span class="quest-type quest-type-{{cssclass type}}">{{type}}</span> {{designation}} {{title}}
                </div>
                <div class="row">
                  <span class="story-substat">Enemies: {{numEnemies}}</span>
                  <span class="story-substat">Chests: {{numChests}}</span>
                  <span class="story-substat">NRG: {{nrg}}</span>
                  <span class="story-substat">XP: {{xp}}</span>
                  <span class="story-substat">JP: {{jp}}</span>
                  <span class="story-substat">GOLD: {{gold}}</span>
                </div>
                {{#if start}}
                <div class="row">
                  <span class="story-substat story-substat-date">Starts: {{start}}</span>
                  <span class="story-substat story-substat-date">Ends: {{end}}</span>
                </div>
                {{/if}}
              </div>
            </div>
          </div>
        </td>
        <td>
          {{{materialDropBoxes}}}
        </td>
      </tr>
    </template>

    <template class="template template-material-drop-box">
      <div class="material-icon-drop-box">
        {{{materialLabel}}}
        <div class="material-icon-drop-percent">
          {{dropChance}}
        </div>
      </div>
    </template>


    <template class="template template-story-row-expanded">
      <tr class="story-row-expanded story-row-expanded-{{cssclass iname}} gutter-1">
        <td colspan="3">
          <div class="container">
            <div class="row drop-table-header">
              <img src="img/ui/cmn_btn_acordion_on.png" class="accordion-toggle accordion-toggle-drop-table mr-2">
              <div class="col">
                <div class="row">
                  {{#each enemies}}
                  <span class="story-substat">
                    <img class="enemy-element" src="{{elementImage}}" alt="{{element}}" title="{{element}}">
                    {{name}}
                  </span>
                  {{/each}}
                </div>
              </div>
            </div>
            <div class="row drop-table-data gutter-2">
              <div class="col">
                <h6>Chance per enemy killed/chest opened:</h6>
                {{{materialDropBoxes}}}
              </div>
            </div>
          </div>
        </td>
      </tr>
    </template>

    <template class="template template-no-drop">
      <div class="no-drop">
        NO<br>DROP
      </div>
    </template>

    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
    <script src="lib/typeahead.bundle.min.js"></script>


    <script src="beta.js"></script>
  </body>
</html>
